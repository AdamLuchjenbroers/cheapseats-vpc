{
  "AWSTemplateFormatVersion": "2010-09-09",

  "Description" : "Subnets across all three Availability Zones",

  "Parameters" : {
    "SubnetGroupName" : {
      "Type" : "String",
      "Description" : "Name used for this subnet group"
    },
    "CidrRange" : {
      "Type" : "String",
      "Description" : "CIDR Range for these subnets"
    },
    "VpcId" : {
      "Type" : "String",
      "Description" : "VPC ID of VPC"
    },
    "MaskSize" : {
      "Type" : "Number",
      "Description" : "The number of bits to assign to the subnet mask for each subnet",
      "Default" : 8
    }
  },

  "Resources" : {
    "SubnetA" : {
      "Type" : "AWS::EC2::Subnet",
      "Properties" : {
        "VpcId" : { "Ref" : "VpcId" },
        "CidrBlock" : { "Fn::Select" : [ 0,  { "Fn::Cidr" : [ { "Ref" : "CidrRange" }, 1, 8 ] } ] },
        "AvailabilityZone" : { "Fn::Select" : [ 0 , { "Fn::GetAZs" : { "Ref" : "AWS::Region" } } ] },
        "Tags" : [
          { "Key" : "Name", "Value" : "A" },
          { "Key" : "SubnetGroup", "Value" : { "Ref" : "SubnetGroupName" } }
        ]
      }
    }
  }
}
